<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <script src="//aframe.io/releases/0.8.2/aframe.min.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>

    <!--library for events setting on panels-->
    <script src="https://unpkg.com/aframe-event-set-component@5.x.x/dist/aframe-event-set-component.min.js"></script>

    <!--environment component-->
    <!--https://github.com/supermedium/aframe-environment-component-->
    <script src="//unpkg.com/aframe-environment-component@1.0.0/dist/aframe-environment-component.min.js"></script>

    <!--animations component-->
    <!--https://aframe.io/docs/1.3.0/components/animation.html-->
    <script src="https://unpkg.com/aframe-animation-component@^4.1.2/dist/aframe-animation-component.min.js"></script>

    <!-- Environment component -->

    <script
        src="https://unpkg.com/aframe-environment-component@1.3.3/dist/aframe-environment-component.min.js"></script>

</head>

<body>

    <!-- all 3d stuff must go in a-frame scene -->

    <a-scene renderer="gammaOutput: true; physicallyCorrectLights: true;" shadow=" type: pcfsoft;">
        <!-- fog="type:linear; color: #AAA; far: 6; near: 0.5;" -->


        <!-- preloading the assets -->

        <a-assets>

            <!-- models -->


            <!-- Room Model and Nav Mesh  -->

            <a-asset-item id="room-model" src="3dAssets/models/models/room_update.glb"></a-asset-item>
            <a-asset-item id="nav-mesh" src="3dAssets/models/models/walkable-path.glb"></a-asset-item>


            <!-- Audio  -->
            <audio id="river"  src="3dAssets/audio/river.mp3"></audio>

            <!-- Preloading Images////////// -->

            <img src="./3dAssets/images/posters/images/1.png" id="poster-1" alt="">
            <img src="./3dAssets/images/posters/images/2.png" id="poster-2" alt="">
            <img src="./3dAssets/images/posters/images/3.png" id="poster-3" alt="">
            <img src="./3dAssets/images/posters/images/4.png" id="poster-4" alt="">
            <video id="video-gif" src="./3dAssets/images/posters/images/video.mp4" muted  playsinline loop 
                alt=""></video>


        </a-assets>


        <!-- Adding Starry Environment -->

        <a-entity environment="preset:starry;"></a-entity>


        <!-- Loading Model ///// -->

        <a-entity gltf-model="#room-model" shadow="receive: true"></a-entity>


        <!-- Loading Nav Mesh /////////// -->

        <a-entity  gltf-model="#nav-mesh" position="1.459 0 -1.587" scale="1.690 0 1.760"
            nav-mesh></a-entity>


            <!-- Adding Sound with Position //////////////// -->
            <a-entity sound="src:3dAssets/audio/river.mp3;loop:true" position="2.04551 1.269 -3.57996"></a-entity>






        <!-- Posters ////////////// -->



        <a-image id="1st-poster" src="#poster-1" material="" geometry="primitive:box;depth:0.02"
            position="2.829 1.806 3.881" rotation="0 -180 0" scale="1.500 2.000 1.000"
            animation__scale="property: scale; to: 0.8 0.8 0.8; dur: 700; dir: alternate; loop: 1; startEvents: click;"
            event-set__mouseenter="_target:#ring; color:#ffffff; scale: 1.5 1.5 1.5;"
            event-set__mouseleave="_target:#ring; color:#0BFBFF; scale: 1 1 1;"></a-image>

        <a-image src="#poster-2" material="" geometry="primitive:box;depth:0.02" position="1 1.806 3.881"
            rotation="0 -180 0" scale="1.500 2.000 1.000"
            animation__scale="property: scale; to: 0.8 0.8 0.8; dur: 700; dir: alternate; loop: 1; startEvents: click;"
            event-set__mouseenter="_target:#ring; color:#ffffff; scale: 1.5 1.5 1.5;"
            event-set__mouseleave="_target:#ring; color:#0BFBFF; scale: 1 1 1;"></a-image>
        <a-image src="#poster-3" material="" geometry="primitive:box;depth:0.02" position="-0.802 1.806 3.881"
            rotation="0 -180 0" scale="1.500 2.000 1.000"
            animation__scale="property: scale; to: 0.8 0.8 0.8; dur: 700; dir: alternate; loop: 1; startEvents: click;"
            event-set__mouseenter="_target:#ring; color:#ffffff; scale: 1.5 1.5 1.5;"
            event-set__mouseleave="_target:#ring; color:#0BFBFF; scale: 1 1 1;"></a-image>
        <a-image src="#poster-4" material="" geometry="primitive:box;depth:0.02" position="-2.677 1.806 3.881"
            rotation="0 -180 0" scale="1.500 2.000 1.000"
            animation__scale="property: scale; to: 0.8 0.8 0.8; dur: 700; dir: alternate; loop: 1; startEvents: click;"
            event-set__mouseenter="_target:#ring; color:#ffffff; scale: 1.5 1.5 1.5;"
            event-set__mouseleave="_target:#ring; color:#0BFBFF; scale: 1 1 1;"></a-image>


        <a-video src="#video-gif" material="" geometry="primitive:box;depth:0.03" position="-3.58554 1.83188 0.07129"
            rotation="0 90 0" scale="1.27 1.77 1"></a-video>




            
        <!-- Camera Rig -->
        <a-entity id="rig" movement-controls="constrainToNavMesh:true" position="-2.010 0 2.740" rotation="0 -40 0">
            <a-entity camera position="0 1.6 0" look-controls>


                <a-cursor id="ring" color="#0BFBFF" ></a-cursor>

            </a-entity>
        </a-entity>



        <!-- Lights -->

        <a-entity light="type: directional; castShadow:true; shadowBias : -0.001; "
            position="-3.406 1.577 2.792"></a-entity>
        <a-entity light="type: point; color:#b751db; " position="-0.136 1.933 0"></a-entity>


    </a-scene>


<script>


window.addEventListener("click" , ()=>{
    document.getElementById("video-gif").play()
    var entity = document.querySelector('[sound]');
entity.components.sound.playSound();
})


</script>
</body>

</html>